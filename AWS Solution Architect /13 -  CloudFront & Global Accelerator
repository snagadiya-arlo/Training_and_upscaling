# Amazon CloudFront & AWS Global Accelerator

---

# Amazon CloudFront Overview

## What is CloudFront?

**CloudFront** is a **Content Delivery Network (CDN)** that caches content at edge locations worldwide to improve read performance and user experience and provides DDoS protection.

### Key Features:

- âœ… **Improves read performance** by caching content at the edge
- âœ… **Improves user experience** through faster delivery
- âœ… **Hundreds of Points of Presence globally** (edge locations and regional edge caches)
- âœ… **DDoS protection** via global distribution
- âœ… **Integrates with AWS Shield** and **AWS Web Application Firewall**

## Architecture Diagram Explanation:

**Global Distribution:**

    Users in Different Regions
         |
         | Request content
         |
         v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    |         CloudFront Global Network                    |
    |                                                      |
    |  North America:                                      |
    |    â€¢ Edge Locations (multiple)                       |
    |    â€¢ Regional Edge Cache                             |
    |                                                      |
    |  Europe:                                             |
    |    â€¢ Edge Locations (multiple)                       |
    |    â€¢ Regional Edge Cache                             |
    |                                                      |
    |  Asia:                                               |
    |    â€¢ Edge Locations (multiple)                       |
    |    â€¢ Regional Edge Cache                             |
    |                                                      |
    |  South America:                                      |
    |    â€¢ Edge Locations                                  |
    |                                                      |
    |  Australia:                                          |
    |    â€¢ Edge Locations                                  |
    |                                                      |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   |
                   | Cache Miss
                   |
                   v
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              |   Origin   |
              |   Server   |
              | (S3/HTTP)  |
              | Southeast  |
              |    Asia    |
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Components shown:**

- **Users** in North America and Asia requesting content
- **Edge locations** (blue dots) distributed globally
- **Multiple edge locations** (purple dots) in high-traffic areas
- **Regional edge caches** (orange circles) as intermediate caching layers
- **Origin server** (green S3 bucket icon) in Southeast Asia

**Data flow:**
Users â†’ Edge locations/Regional caches â†’ Origin server (only when cache misses)

---

# CloudFront â€“ Origins

## Overview

CloudFront can fetch content from various origin types depending on your use case.

### 1. S3 Bucket Origin

**Use Case:** Distributing static files globally

**Features:**
- Distributes and caches files at the edge
- Supports **uploading files to S3 via CloudFront**
- Secured using **Origin Access Control (OAC)**

**Architecture:**

    CloudFront Edge Location
           â†“
    Origin Access Control (OAC)
           â†“
    S3 Bucket (Private)

**Security:**
- S3 bucket remains private
- Only CloudFront can access it via OAC
- Prevents direct S3 access

### 2. VPC Origin

**Use Case:** Applications in VPC private subnets

**Supported Resources:**
- Application Load Balancer (ALB)
- Network Load Balancer (NLB)
- EC2 instances

**Architecture:**

    CloudFront Edge Location
           â†“
    VPC Origin Connection
           â†“
    VPC Private Subnet
           â†“
    ALB/NLB/EC2 (Private)

**Benefits:**
- Keep applications private
- No internet exposure
- Secure delivery

### 3. Custom Origin (HTTP)

**Use Case:** Any HTTP backend

**Supported:**
- S3 website (requires static website hosting enabled)
- Any public HTTP backend
- On-premises servers
- Custom web applications

**Requirements:**
- Must be publicly accessible via HTTP/HTTPS
- Must accept connections from CloudFront IPs

---

# CloudFront at a High Level

## Workflow

**Step-by-Step Process:**

1. **Client sends HTTP request**
   - Example: `GET /beach.jpg?size=300x300`

2. **Request goes to the nearest CloudFront Edge Location**
   - Determined by geographic proximity
   - Anycast routing to nearest edge

3. **Edge Location checks local cache**
   - Looks for requested object in cache
   - Checks if cached copy is still valid (TTL not expired)

4. **Cache Hit:** If cached and valid
   - Content served directly from edge cache
   - Ultra-fast response (milliseconds)
   - No origin request needed

5. **Cache Miss:** If not cached or expired
   - Edge location fetches from origin
   - Origin types: S3 bucket or custom HTTP server
   - Content retrieved over AWS backbone network

6. **Content cached at edge and delivered to client**
   - Future requests served from cache
   - Cache duration based on TTL settings

## Diagram: Request Flow

    Client
      |
      | HTTP Request: GET /beach.jpg
      |
      v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    | CloudFront Edge         |
    | Location                |
    |                         |
    | Cache Check:            |
    | â”œâ”€ Hit? â†’ Serve         |
    | â””â”€ Miss? â†’ Fetch Origin |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               |
               | (Cache Miss)
               |
               v
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          | Origin  |
          | (S3 or  |
          |  HTTP)  |
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## Benefits:

- âœ… **Reduced latency** via edge caching
- âœ… **Lower origin load** (fewer requests reach origin)
- âœ… **Faster content delivery** (cached content served locally)
- âœ… **Cost savings** (less data transfer from origin)

---

# CloudFront â€“ S3 as an Origin

## Architecture

**Global Distribution:**

    User in Los Angeles â”€â”€â”€â”€â”€â”€â”€â”€â”
                                |
    User in Mumbai â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º Edge Locations
                                |    (Los Angeles, Mumbai,
    User in SÃ£o Paulo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     SÃ£o Paulo, Melbourne)
                                |
    User in Melbourne â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                |
                                | AWS Private Network
                                | (Cache Miss)
                                |
                                v
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        |  S3 Bucket     |
                        |  (Origin)      |
                        |                |
                        | Origin Access  |
                        | Control (OAC)  |
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Components:**

1. **Central S3 bucket** as origin (single location)
2. **Four Edge locations**:
   - Los Angeles (North America)
   - Mumbai (Asia)
   - SÃ£o Paulo (South America)
   - Melbourne (Australia)
3. **Users** connect via public internet to nearest edge
4. **Edge locations** connect to origin via private AWS network

## Security

### Origin Access Control (OAC)

**How it works:**

    CloudFront Distribution
         |
         | OAC Identity
         |
         v
    S3 Bucket Policy:
    - Allow CloudFront OAC
    - Deny direct public access

**S3 Bucket Policy Example:**

    {
      "Version": "2012-10-17",
      "Statement": [
        {
          "Effect": "Allow",
          "Principal": {
            "Service": "cloudfront.amazonaws.com"
          },
          "Action": "s3:GetObject",
          "Resource": "arn:aws:s3:::my-bucket/*",
          "Condition": {
            "StringEquals": {
              "AWS:SourceArn": "arn:aws:cloudfront::account-id:distribution/distribution-id"
            }
          }
        }
      ]
    }

**Security Features:**
- âœ… S3 bucket **not publicly accessible**
- âœ… Only CloudFront can access it via OAC
- âœ… Traffic between edge locations and S3 uses **AWS backbone network**
- âœ… No public internet traversal for origin fetches

## Benefits:

- âœ… **Fast global delivery** (content cached at edges)
- âœ… **Secure origin access** (S3 remains private)
- âœ… **Optimized AWS network paths** (no public internet for origin requests)
- âœ… **Reduced S3 costs** (fewer direct S3 requests)

---

# CloudFront vs S3 Cross Region Replication

## Comparison Table

| Feature | CloudFront | S3 Cross Region Replication |
|---------|------------|----------------------------|
| **Type** | Content Delivery Network (CDN) | Data Replication |
| **Distribution** | Global edge network (hundreds of locations) | Configured per region pair |
| **Caching** | Files cached for a TTL (e.g., 1 day) | No caching; full copy in each region |
| **Update Speed** | Based on TTL expiration | Near real-time (within minutes) |
| **Write Access** | Read-only from edges | Read-only replicas |
| **Setup** | Single configuration for global reach | Must configure per region |
| **Cost Model** | Pay for data transfer out | Pay for storage + replication |
| **Best For** | Static content globally available | Dynamic content in specific regions |

## CloudFront

**Characteristics:**
- Uses **global edge network** (200+ edge locations)
- Files **cached for a TTL** (e.g., a day)
- **Best for static content** that must be available everywhere

**Use Cases:**
- Static websites
- Images and videos
- CSS/JS files
- Software downloads
- Streaming media

**Example Scenario:**

    Global Website
         â†“
    Static assets (images, CSS, JS)
         â†“
    CloudFront (cached at 200+ edges)
         â†“
    Fast access from anywhere

## S3 Cross Region Replication

**Characteristics:**
- Must be **configured per region** (source â†’ destination)
- Files **updated in near real-time** (minutes)
- **Read-only replicas**
- **Best for dynamic content** that needs low-latency access in specific regions

**Use Cases:**
- Disaster recovery
- Compliance (data residency requirements)
- Regional data requirements
- Low-latency access in specific regions
- Backup and archival

**Example Scenario:**

    Application Database Backups
         â†“
    S3 in us-east-1
         â†“
    Replicated to eu-west-1 (minutes)
         â†“
    Compliance + DR

## When to Use What?

| Scenario | Solution |
|----------|----------|
| Static website with global audience | **CloudFront** |
| User-uploaded images served worldwide | **CloudFront** |
| Video streaming to multiple regions | **CloudFront** |
| Disaster recovery for S3 data | **S3 CRR** |
| Compliance requiring data in specific region | **S3 CRR** |
| Dynamic content with regional users | **S3 CRR** + regional endpoints |
| Low-latency reads in 2-3 specific regions | **S3 CRR** |

---

# CloudFront â€“ ALB or EC2 as an Origin Using VPC Origins

## Overview

CloudFront can use resources in **private VPC subnets** as origins **without exposing them to the internet**.

### Benefits:

- âœ… Deliver content from applications in **private subnets**
- âœ… **No need to expose origins** to the internet
- âœ… **Enhanced security** (no public IPs required)
- âœ… Simplified security group rules

### Supported Origins:

- Application Load Balancer (ALB)
- Network Load Balancer (NLB)
- EC2 instances

## Architecture: VPC Origin

    Users (Global)
         |
         | HTTPS
         |
         v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    | CloudFront             |
    | Edge Locations         |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               |
               | VPC Origin Connection
               | (Private AWS Network)
               |
               v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    |             VPC                     |
    |                                     |
    |   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      |
    |   |   Private Subnet        |      |
    |   |                         |      |
    |   |   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      |      |
    |   |   | ALB / NLB    |      |      |
    |   |   | or EC2       |      |      |
    |   |   | (Private IP) |      |      |
    |   |   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      |      |
    |   |                         |      |
    |   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      |
    |                                     |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Flow:**
1. Users request content from CloudFront
2. CloudFront edge receives request
3. Edge connects to **VPC Origin** (private connection)
4. VPC Origin routes to private subnet resources
5. ALB/NLB/EC2 in private subnet processes request
6. Response returned via same private path

**Key Points:**
- No public IP needed for origin resources
- Traffic flows privately through VPC Origin
- Enhanced security (resources never exposed)
- Simplified architecture (no NAT gateways for outbound)

---

# CloudFront â€“ ALB or EC2 as an Origin Using Public Network

## Scenario 1: CloudFront with EC2 Instances (Public Network)

**Architecture:**

    Users (Global)
         |
         | HTTPS
         |
         v
    CloudFront Edge Locations
         |
         | Public Internet
         | (CloudFront Edge IPs)
         |
         v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    |  EC2 Instances         |
    |  (Public IP/Elastic IP)|
    |                        |
    |  Security Group:       |
    |  - Allow CloudFront    |
    |    Edge IPs            |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Requirements:**
- âœ… EC2 instances **must be public** (public IP or Elastic IP)
- âœ… EC2 security group **must allow CloudFront edge location public IPs**
- âœ… Reference for CloudFront IPs: http://d7uri8nf7uskq.cloudfront.net/tools/list-cloudfront-ips

**Security Group Rule Example:**

    Type: HTTPS
    Protocol: TCP
    Port: 443
    Source: CloudFront IP ranges (managed prefix list)

## Scenario 2: CloudFront with Application Load Balancer (Public Network)

**Architecture:**

    Users (Global)
         |
         | HTTPS
         |
         v
    CloudFront Edge Locations
         |
         | Public Internet
         | (CloudFront Edge IPs)
         |
         v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    |  Application Load Balancer         |
    |  (Public/Internet-facing)          |
    |                                    |
    |  Security Group:                   |
    |  - Allow CloudFront Edge IPs       |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   |
                   | Private Subnet
                   |
                   v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    |  EC2 Instances (Private)           |
    |                                    |
    |  Security Group:                   |
    |  - Allow ALB Security Group        |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Requirements:**
- âœ… ALB **must be internet-facing** (public)
- âœ… ALB security group **must allow CloudFront edge location public IPs**
- âœ… EC2 instances **can be private**
- âœ… EC2 security group **allows ALB security group**

**Security Group Configuration:**

**ALB Security Group:**

    Inbound:
    Type: HTTPS
    Protocol: TCP
    Port: 443
    Source: CloudFront IP ranges

**EC2 Security Group:**

    Inbound:
    Type: HTTP
    Protocol: TCP
    Port: 80
    Source: ALB Security Group (sg-xxxxx)

## Comparison: Direct EC2 vs Via ALB

| Aspect | Direct EC2 | Via ALB |
|--------|-----------|---------|
| **EC2 Public Access** | Must be public | Can be private |
| **Load Balancing** | No built-in | Yes (ALB) |
| **Health Checks** | Manual setup | Built-in (ALB) |
| **SSL/TLS Termination** | On EC2 | On ALB |
| **Auto Scaling** | More complex | Simpler (ALB + ASG) |
| **Security** | Less secure (EC2 exposed) | More secure (EC2 private) |
| **Use Case** | Simple, single instance | Production, scalable apps |

**Best Practice:**
- Use **VPC Origin** when possible (most secure)
- Use **ALB** for public origins (better than direct EC2)
- Use **Direct EC2** only for simple dev/test scenarios

---

# CloudFront Geo Restriction

## Overview

**Restrict access** to your distribution based on **geographic location** of the user.

### Methods:

#### 1. Allowlist (Whitelist)
- Only **specified countries** can access your content
- All other countries are **blocked**

#### 2. Blocklist (Blacklist)
- **Specified countries** are blocked
- All other countries can access

## How It Works

**Process:**

    User Request
         â†“
    CloudFront Edge Location
         â†“
    Check User's IP Address
         â†“
    Lookup Country via Geo-IP Database (3rd party)
         â†“
    Check Geo Restriction Rules:
    â”œâ”€ Allowed? â†’ Serve Content
    â””â”€ Blocked? â†’ Return 403 Forbidden

**Technical Details:**
- Country determined via a **third-party Geo-IP database**
- Based on **requester IP address**
- Happens at edge location (before origin request)

## Use Cases

### 1. Copyright Compliance
- Content licensed only for specific countries
- Example: Movie streaming rights for US only

### 2. Regional Licensing Restrictions
- Software licensed per country
- Pharmaceutical content restricted by region

### 3. Content Localization
- Different content for different regions
- Compliance with local laws (e.g., GDPR, data residency)

### 4. Legal Requirements
- Government-mandated content restrictions
- Export control compliance

## Configuration Example

**Allow only US and Canada:**

    Geo Restriction: Allowlist
    Allowed Countries: US, CA
    Result: Only US and Canada can access

**Block sanctioned countries:**

    Geo Restriction: Blocklist
    Blocked Countries: [list of countries]
    Result: Listed countries receive 403 Forbidden

## Limitations

- Based on **IP geolocation** (not 100% accurate)
- Users with **VPNs** may bypass restrictions
- For more robust geo-restriction, use **signed URLs/cookies** with custom logic

---

# CloudFront â€“ Pricing

## Pricing Model

Data transfer out from CloudFront edge locations **varies by region and volume tier**.

### Regional Pricing (First 10TB Tier)

| Region | Price per GB |
|--------|--------------|
| **United States, Mexico, & Canada** | $0.085 |
| **Europe & Israel** | $0.085 |
| **South Africa, Kenya, & Middle East** | $0.110 |
| **South America** | $0.110 |
| **Japan** | $0.114 |
| **Australia & New Zealand** | $0.114 |
| **Hong Kong, Philippines, Singapore, South Korea, Taiwan, & Thailand** | $0.140 |
| **India** | $0.170 |

### Volume Tiers (Price Decreases with Volume)

| Volume Tier | Cost Trend |
|-------------|------------|
| First 10TB | Base rate (shown above) |
| Next 40TB | ~15% discount |
| Next 100TB | ~25% discount |
| Next 350TB | ~35% discount |
| Next 524TB | ~40% discount |
| Next 4PB | ~45% discount |
| Over 5PB | ~50% discount |

**Example Pricing Breakdown (US/Canada/Mexico):**
- 0-10 TB: $0.085/GB
- 10-50 TB: $0.080/GB
- 50-150 TB: $0.060/GB
- 150-500 TB: $0.040/GB
- 500+ TB: $0.030/GB

## Cost Trend Summary

**Lowest Cost Regions:**
- North America (US, Canada, Mexico)
- Europe & Israel

**Moderate Cost Regions:**
- South Africa, Kenya, Middle East
- South America
- Japan
- Australia & New Zealand

**Highest Cost Regions:**
- Asia-Pacific (Hong Kong, Singapore, etc.)
- India (most expensive at $0.170/GB)

## Additional Charges (Not Shown in Base Pricing)

- **HTTPS requests:** $0.01 per 10,000 requests
- **HTTP requests:** $0.0075 per 10,000 requests
- **Invalidation requests:** First 1,000 paths free per month, then $0.005 per path
- **Dedicated IP custom SSL:** $600 per month per certificate
- **Field-level encryption requests:** $0.02 per 10,000 requests

---

# CloudFront â€“ Price Classes

## Overview

Select **which edge locations to use** to manage costs vs. performance.

### Price Classes:

#### Price Class All
- **Coverage:** All regions globally
- **Performance:** Best (lowest latency everywhere)
- **Cost:** Highest
- **Use case:** Global application requiring best performance everywhere

#### Price Class 200
- **Coverage:** Most regions, excludes most expensive
- **Performance:** Good (covers most users)
- **Cost:** Moderate
- **Use case:** Balanced cost and coverage for most applications

#### Price Class 100
- **Coverage:** Only least expensive regions
- **Performance:** Lower (limited to NA and Europe)
- **Cost:** Lowest
- **Use case:** Cost-sensitive with users primarily in NA/Europe

## Coverage by Price Class

### Price Class 100 (Lowest Cost)

**Included Regions:**
- âœ… United States, Canada, Mexico
- âœ… Europe & Israel

**Excluded Regions:**
- âŒ South America
- âŒ Asia-Pacific
- âŒ Australia/New Zealand
- âŒ Africa (except parts covered)
- âŒ Middle East (except Israel)

### Price Class 200 (Balanced)

**Included Regions:**
- âœ… United States, Canada, Mexico
- âœ… Europe & Israel
- âœ… South Africa, Kenya, Middle East
- âœ… Japan
- âœ… Hong Kong, Philippines, Singapore, South Korea, Taiwan, Thailand
- âœ… India

**Excluded Regions:**
- âŒ South America
- âŒ Australia & New Zealand

### Price Class All (Best Performance)

**Included Regions:**
- âœ… All regions globally (no exclusions)

## Trade-Offs

| Price Class | Cost | Coverage | Performance | Best For |
|-------------|------|----------|-------------|----------|
| **100** | Lowest | Limited (NA + Europe) | Good in included regions | Cost-sensitive, NA/EU users |
| **200** | Moderate | Most regions | Good globally | Most applications |
| **All** | Highest | Complete global | Best everywhere | Global apps, best UX |

## Price Class Map Visual Description

**Global Infrastructure Distribution:**

    North America & Europe:
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (High density)
    - Many edge locations
    - Regional edge caches
    - Price Class 100 coverage

    Asia-Pacific:
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (Moderate density)
    - Multiple edge locations
    - Price Class 200 coverage (except AU/NZ)

    South America & Australia:
    â–ˆâ–ˆâ–ˆâ–ˆ (Lower density)
    - Fewer edge locations
    - Price Class All only

**Visual Legend:**
- **Dark blue ellipse:** Price Class 100 (NA + Europe)
- **Green ellipses:** Price Class 200 (adds Asia, parts of SA/Africa)
- **Maroon ellipse:** Price Class All (everything)

**Edge Location Types:**
- **Light blue circles:** Standard edge locations
- **Purple circles:** Multiple edge locations (high-density areas)
- **Orange circles:** Regional edge caches (intermediate caching)

**Distribution Pattern:**
- Higher density in North America, Europe, and major Asian markets
- Lower density in remote areas and emerging markets
- Cost correlates with infrastructure density and local costs

## Choosing the Right Price Class

### Decision Matrix:

**Choose Price Class 100 if:**
- Users primarily in North America and Europe
- Cost is priority
- Acceptable for other regions to have higher latency

**Choose Price Class 200 if:**
- Global user base
- Need balance of cost and performance
- Most users covered

**Choose Price Class All if:**
- Users truly global
- Performance is critical
- Budget allows for premium service

---

# CloudFront â€“ Cache Invalidations

## Problem

When **origin content is updated**, CloudFront continues serving **cached content** until TTL expires, leading to **stale content** being delivered to users.

**Scenario:**

    Time T0: /index.html v1 cached at edges (TTL: 24 hours)
    Time T1: /index.html v2 uploaded to origin
    Time T1-T24: Edges still serve v1 (stale)
    Time T24: Cache expires, v2 fetched

**Issue:** Users see old content for up to 24 hours!

## Solution

**Cache invalidation** forces a refresh, **bypassing TTL**.

### How to Invalidate

#### 1. Invalidate All Files

**Pattern:** `*`

**Effect:** Invalidates entire distribution

**Use case:** Complete site refresh

**Cost:** Expensive (all cached content marked invalid)

#### 2. Invalidate Specific Paths

**Patterns:**
- `/images/*` - All images
- `/index.html` - Single file
- `/css/*.css` - All CSS files
- `/api/users/*` - All user API responses

**Effect:** Only specified paths invalidated

**Use case:** Targeted updates

**Cost:** First 1,000 paths free per month

## Process Flow

**Step-by-Step:**

    1. Content Updated at Origin
       â†“
       Developer uploads new /index.html to S3
    
    2. Invalidation Request Sent
       â†“
       AWS Console / CLI / API:
       Invalidate: /index.html, /images/*
    
    3. CloudFront Processes Request
       â†“
       Invalidation propagates to all edge locations
    
    4. Cache Invalidated at Edges
       â†“
       Cached items marked invalid (red X)
       TTL no longer matters
    
    5. Subsequent Requests Fetch Fresh Content
       â†“
       Next request triggers fetch from origin
       New content cached with fresh TTL

**Diagram:**

    Origin (S3)
       â†“ (1) Upload new content
    [index.html v2]
       
    CloudFront Distribution
       â†“ (2) Invalidation Request
    POST /2020-05-31/distribution/EXAMPLEID/invalidation
    Body: { "Paths": ["/index.html", "/images/*"] }
    
    Edge Locations (Global)
       â†“ (3) Propagate invalidation
    [Cache Entry: /index.html] âŒ INVALID
    [Cache Entry: /images/logo.png] âŒ INVALID
    
    User Request
       â†“ (4) Next request
    GET /index.html
       â†“ (5) Cache miss (invalidated)
       â†’ Fetch from origin
       â†’ Return v2 to user
       â†’ Cache v2 with new TTL

## Use Cases

### 1. Immediate Content Updates
- Breaking news on news site
- Emergency notifications
- Critical bug fixes in application

### 2. Critical Fixes
- Security vulnerability patch
- Broken links or images
- Incorrect information

### 3. Real-Time Content Changes
- Product price updates
- Inventory changes
- Event information updates

### 4. Deployment
- New application version
- Website redesign
- API changes

## Best Practices

### DO:

âœ… **Use specific paths** when possible
- More cost-effective
- Faster propagation
- Less impact on cache hit ratio

âœ… **Batch invalidations**
- Group related files in one request
- Save on API calls

âœ… **Plan invalidation timing**
- Coordinate with deployments
- Schedule during low-traffic periods

âœ… **Use versioned URLs** instead
- Example: `/assets/v2/style.css` instead of `/assets/style.css`
- No invalidation needed
- Better cache efficiency

### DON'T:

âŒ **Invalidate everything frequently**
- Very expensive
- Defeats purpose of CDN
- Increases origin load

âŒ **Use as primary cache control**
- Use TTL settings instead
- Reserve invalidation for emergencies

âŒ **Forget about costs**
- First 1,000 paths free per month
- After that: $0.005 per path
- Wildcard `*` counts as many paths

## Alternatives to Invalidation

### 1. Versioned File Names
- Use: `/assets/style-v2.css` instead of `/assets/style.css`
- No invalidation needed
- Instant updates
- Best practice for static assets

### 2. Short TTLs
- Set lower TTL for frequently changing content
- Example: 5 minutes for API responses
- Balances freshness and caching

### 3. Cache-Control Headers
- Use `Cache-Control: max-age=0` for no caching
- Use `Cache-Control: no-cache` for revalidation
- Origin controls caching behavior

## Invalidation vs Versioning Comparison

| Method | Cost | Speed | Complexity | Best For |
|--------|------|-------|------------|----------|
| **Invalidation** | Expensive (after 1,000) | Minutes | Simple | Emergency fixes |
| **Versioned URLs** | Free | Instant | Moderate | Regular deployments |
| **Short TTL** | Free | Based on TTL | Simple | Dynamic content |
| **Cache-Control** | Free | Immediate | Moderate | Fine-grained control |

---

# AWS Global Accelerator

---

# Global Users for Our Application â€“ The Problem

## Problem Statement

Users access the application **over the public internet**, causing **many hops and high latency**.

**Goal:** Route through the **AWS network** to minimize latency and improve performance.

## Diagram: Current State (Without Global Accelerator)

**Scenario:** Users accessing Application Load Balancer in India

    User in America
         |
         | Public Internet: 5 hops
         | (Each hop adds ~20-50ms latency)
         |
         v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    |                    |
    | Public ALB         |
    | (India Region)     | â—„â”€â”€â”€â”€â”€â”
    |                    |       |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       |
         â–²                       |
         |                       | Public Internet: 1 hop
         | Public Internet: 4    |
         | hops                  |
         |                       |
    User in Australia            |
                                 |
                           User in Europe

**Latency by Region:**

| Region | Hops | Approximate Latency |
|--------|------|---------------------|
| America â†’ India | 5 hops | ~200-300ms |
| Europe â†’ India | 1 hop | ~50-100ms |
| Australia â†’ India | 4 hops | ~150-250ms |

**Problems:**
- âŒ Many network hops (each adds latency)
- âŒ Unpredictable routing (public internet)
- âŒ Potential packet loss
- âŒ No control over network path
- âŒ Security concerns (public internet exposure)

---

# Unicast IP vs Anycast IP

## Understanding IP Addressing Models

### Unicast IP

**Definition:** One server has **one unique IP address**

**How it works:**
- Each server has its own distinct IP
- Client **must know the specific IP** to connect
- Client connects to a **specific server** by its IP
- No automatic routing decisions

**Diagram:**

    Server 1 (IP: 1.2.3.4) â—„â”€â”€â”€â”€ Client connects to 1.2.3.4
    
    Server 2 (IP: 5.6.7.8) â—„â”€â”€â”€â”€ Client connects to 5.6.7.8
    
    Server 3 (IP: 9.10.11.12) â—„â”€â”€ Client connects to 9.10.11.12

**Characteristics:**
- One-to-one relationship
- Client chooses which server
- Most common IP model

### Anycast IP

**Definition:** Multiple servers **share the same IP address**

**How it works:**
- Multiple servers advertise the **same IP**
- Client connects to the **same IP** regardless of server location
- The client is **routed to the nearest server automatically**
- **Routing is handled by the network**, not the client

**Diagram:**

    Server 1 (IP: 1.2.3.4) â—„â”€â”€â”€â”€â”€â”
                                 |
    Server 2 (IP: 1.2.3.4) â—„â”€â”€â”€â”€â”€â”¼â”€â”€ Client connects to 1.2.3.4
                                 |    (routed to nearest server)
    Server 3 (IP: 1.2.3.4) â—„â”€â”€â”€â”€â”€â”˜

**Characteristics:**
- One-to-many relationship
- Network chooses nearest server
- Used by CDNs and Global Accelerator

## Comparison

| Aspect | Unicast IP | Anycast IP |
|--------|-----------|-----------|
| **IP per server** | Unique | Shared |
| **Client knowledge** | Must know specific IP | Single IP for all |
| **Routing decision** | Client chooses | Network chooses |
| **Failover** | Manual (DNS/LB) | Automatic (BGP) |
| **Use case** | Traditional apps | CDN, Global services |
| **Examples** | Most web servers | CloudFront, Global Accelerator |

---

# AWS Global Accelerator â€” How It Works

## Overview

AWS Global Accelerator uses the **AWS internal network** to route traffic, providing **better performance** and **reliability** than the public internet.

### Key Concept

- **Two Anycast IPs** are created for your application
- Anycast IPs send traffic to the **nearest Edge location**
- Edge locations send traffic to your application over the **AWS private network**

## Architecture Diagram

**Global Accelerator Flow:**

    User in America            User in Europe            User in Australia
         |                           |                           |
         | Connects to               | Connects to               | Connects to
         | Anycast IP 1              | Anycast IP 1              | Anycast IP 1
         | (1.2.3.4)                 | (1.2.3.4)                 | (1.2.3.4)
         |                           |                           |
         v                           v                           v
    Edge Location              Edge Location              Edge Location
    (America)                  (Europe)                   (Australia)
         |                           |                           |
         |                           |                           |
         |<â”€â”€â”€â”€â”€â”€â”€â”€â”€ AWS Private Network (Fast & Reliable) â”€â”€â”€â”€â”€â”€>|
         |                           |                           |
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     |
                                     v
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            |   Public ALB    |
                            |   (India)       |
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Step-by-Step Flow:**

1. **Users connect to Anycast IP**
   - All users use the same IP address (e.g., 1.2.3.4)
   - Single DNS entry needed

2. **Routed to nearest Edge location**
   - User in America â†’ American edge
   - User in Europe â†’ European edge
   - User in Australia â†’ Australian edge
   - Routing happens at network layer (BGP)

3. **Traffic travels over AWS private network**
   - From edge location to application
   - Uses AWS backbone (not public internet)
   - Consistent, predictable performance

4. **Reaches application**
   - Public ALB in India
   - EC2 instances
   - Network Load Balancer
   - Elastic IP

## Benefits Over Public Internet

| Aspect | Public Internet (Before) | Global Accelerator (After) |
|--------|--------------------------|---------------------------|
| **Hops** | 5+ hops (unpredictable) | 1 hop to edge, then AWS network |
| **Latency** | 200-300ms | 50-100ms (60% reduction) |
| **Packet Loss** | Variable (1-5%) | Near zero (<0.1%) |
| **Reliability** | Unpredictable | Consistent |
| **Path** | Uncontrolled | AWS backbone |
| **Performance** | Variable | Optimized |

## How Anycast IPs Work

**Traditional (Unicast):**

    DNS: app.example.com
    â”œâ”€ US users: 1.2.3.4 (US ALB)
    â”œâ”€ EU users: 5.6.7.8 (EU ALB)
    â””â”€ AU users: 9.10.11.12 (AU ALB)

**With Global Accelerator (Anycast):**

    DNS: app.example.com
    â””â”€ All users: 1.2.3.4 and 1.2.3.5 (Anycast IPs)
       Network routes to nearest edge automatically

---

# AWS Global Accelerator â€” Features

## 1. Works with Multiple Resource Types

**Supported Resources:**

- âœ… **Elastic IP** - Static IP for EC2
- âœ… **EC2 instances** - Directly to compute
- âœ… **Application Load Balancer (ALB)** - HTTP/HTTPS applications
- âœ… **Network Load Balancer (NLB)** - TCP/UDP applications
- âœ… **Public or Private** resources

**Flexibility:**
- Mix and match resource types
- Multi-region failover
- Blue/green deployments

## 2. Consistent Performance

### Intelligent Routing

- Routes to the **lowest-latency endpoint**
- **Fast regional failover** (<30 seconds)
- Health check-based routing

### No Client Cache Issues

**Problem with DNS:**

    User caches DNS: app.example.com â†’ 1.2.3.4
    â†“
    Server 1.2.3.4 fails
    â†“
    DNS updated to 5.6.7.8
    â†“
    User still has cached 1.2.3.4 (FAILS)

**Solution with Global Accelerator:**

    User connects to Anycast IP: 1.2.3.4
    â†“
    Global Accelerator health checks fail for Endpoint 1
    â†“
    Global Accelerator routes to Endpoint 2
    â†“
    User still uses 1.2.3.4 (WORKS)

**Benefits:**
- Uses **internal AWS network**
- **Static Anycast IPs** never change
- No DNS propagation delay
- No client-side caching issues

## 3. Health Checks

### Automatic Health Monitoring

**How it works:**

    Global Accelerator
         â†“
    Health Checks (every 30 seconds)
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    Endpoint 1     Endpoint 2      Endpoint 3
    (Healthy)      (Unhealthy)     (Healthy)
         â†“              âœ—               â†“
    Receives traffic              Receives traffic

**Health Check Configuration:**
- **Protocol:** TCP, HTTP, HTTPS
- **Port:** Configurable
- **Path:** For HTTP/HTTPS
- **Interval:** 10 or 30 seconds
- **Threshold:** Number of consecutive checks

### Automatic Failover

**Benefits:**
- Enables **global reach** with automatic failover
- Failover typically **under 1 minute** for unhealthy endpoints
- **Useful for disaster recovery**
- No manual intervention needed

**Failover Scenario:**

    Primary Endpoint (us-east-1): Healthy âœ“
    â†“
    Receives 100% traffic
    â†“
    Primary fails (health check)
    â†“
    Automatic failover (<1 minute)
    â†“
    Secondary Endpoint (eu-west-1): Healthy âœ“
    â†“
    Receives 100% traffic

## 4. Security

### Simplified Security

**Only 2 external IPs need to be whitelisted**

**Traditional (without Global Accelerator):**

    Firewall rules:
    - Allow: Range 1.0.0.0/8 (entire region)
    - Allow: Range 2.0.0.0/8 (entire region)
    - Allow: CloudFront IPs (hundreds)
    - Allow: ...
    Result: Complex, broad rules

**With Global Accelerator:**

    Firewall rules:
    - Allow: 1.2.3.4 (Anycast IP 1)
    - Allow: 1.2.3.5 (Anycast IP 2)
    Result: Simple, specific rules

### Built-in DDoS Protection

**AWS Shield Integration:**
- **AWS Shield Standard** (free) included
- Protects against common DDoS attacks
- Network and transport layer protection

**How it works:**
- Traffic enters at edge locations
- DDoS mitigation at edge (not origin)
- Only clean traffic reaches your application
- Absorbs attacks before reaching origin

**Protection Layers:**
- Layer 3 (Network): IP floods
- Layer 4 (Transport): SYN floods, UDP reflection
- Layer 7 (Application): Can add WAF for advanced protection

---

# AWS Global Accelerator vs CloudFront

## Shared Characteristics

Both services share:
- âœ… Use AWS **global infrastructure** and **Edge locations**
- âœ… Include **DDoS protection** via AWS Shield
- âœ… Leverage AWS **private backbone network**
- âœ… Global reach and improved performance

## CloudFront (Content Delivery Network)

### What it is:
A **CDN** that caches content at edge locations

### How it works:
- Content is **served from Edge locations**
- Edge locations **cache content** for a TTL
- Subsequent requests served from cache (no origin hit)

### Best For:

**Cacheable Content:**
- âœ… Images, videos
- âœ… Static websites
- âœ… CSS, JavaScript files
- âœ… Software downloads

**Dynamic Content:**
- âœ… API acceleration
- âœ… Dynamic site delivery
- âœ… Edge computing (Lambda@Edge)

### Use Cases:
- Static website hosting
- Video streaming
- Software distribution
- API acceleration

### Architecture:

    User â†’ CloudFront Edge â†’ Cache Hit? â†’ Serve from cache
                           â†“
                      Cache Miss? â†’ Fetch from origin â†’ Cache â†’ Serve

## Global Accelerator (Network Accelerator)

### What it is:
A **network optimization** service using Anycast IPs and AWS backbone

### How it works:
- Traffic **proxied** at Edge locations
- All requests go to application (no caching)
- Uses AWS network for optimal routing

### Best For:

**Non-HTTP Protocols:**
- âœ… Gaming (UDP)
- âœ… IoT (MQTT)
- âœ… Voice over IP (VoIP)
- âœ… Financial trading apps
- âœ… TCP/UDP applications

**HTTP Use Cases:**
- âœ… Requiring static IP addresses
- âœ… Deterministic, fast regional failover
- âœ… Real-time data (no caching)
- âœ… WebSocket applications

### Use Cases:
- Gaming applications
- IoT device communication
- Real-time applications
- UDP-based applications
- Applications requiring static IPs

### Architecture:

    User â†’ Global Accelerator Edge â†’ AWS Network â†’ Application
         (Anycast IP)              (always proxied)

## Detailed Comparison Table

| Feature | CloudFront | Global Accelerator |
|---------|------------|-------------------|
| **Type** | CDN (Content Delivery) | Network Accelerator |
| **Primary Purpose** | Cache and serve content | Optimize network path |
| **Caching** | Yes (main feature) | No (all requests proxied) |
| **Protocols** | HTTP, HTTPS, WebSocket | TCP, UDP, HTTP, HTTPS |
| **IP Addresses** | Dynamic (changes per edge) | Static Anycast IPs (2) |
| **Origin Types** | S3, HTTP servers, MediaStore | ALB, NLB, EC2, Elastic IP |
| **Failover** | Via health checks + DNS | Via health checks + Anycast |
| **Failover Speed** | Minutes (DNS TTL) | Seconds (<30s) |
| **Best for Content** | Static, cacheable | Dynamic, real-time |
| **Best for Protocol** | HTTP/HTTPS | Any TCP/UDP |
| **DDoS Protection** | AWS Shield | AWS Shield |
| **Cost Model** | Pay per GB out + requests | Pay per hour + GB out |
| **Static IP** | No | Yes (2 Anycast IPs) |
| **Origin Access** | Can be private (OAC) | Must be reachable |
| **Custom SSL** | Yes (free with ACM) | N/A (uses origin SSL) |

## When to Use What?

### Use CloudFront If:

âœ… You have **cacheable content** (images, videos, static files)
âœ… Your application is **HTTP/HTTPS** based
âœ… You want to **reduce origin load** via caching
âœ… You need **edge computing** (Lambda@Edge, CloudFront Functions)
âœ… You're serving a **website** or **API** with cacheable responses
âœ… You want to **stream video** or deliver software

**Example Scenarios:**
- E-commerce website with product images
- Video streaming platform
- Software download portal
- Blog or news website
- API with cacheable responses

### Use Global Accelerator If:

âœ… Your application uses **non-HTTP protocols** (UDP, TCP)
âœ… You need **static IP addresses** (firewall whitelisting)
âœ… You need **fast failover** (<30 seconds)
âœ… Your content is **dynamic** and cannot be cached
âœ… You're building **gaming applications**
âœ… You have **IoT** applications
âœ… You need **real-time** data delivery (no caching)
âœ… You want **deterministic routing** (not DNS-based)

**Example Scenarios:**
- Real-time gaming applications
- IoT device communication
- VoIP applications
- Financial trading platforms
- Live video conferencing
- Industrial control systems

### Use Both If:

âœ… You have **static assets** (use CloudFront) AND **dynamic API** (use Global Accelerator)
âœ… You want **best of both** worlds

**Example Architecture:**

    Users
     â”œâ”€â–º CloudFront (static.example.com) â†’ S3 (images, CSS, JS)
     â””â”€â–º Global Accelerator (api.example.com) â†’ ALB â†’ EC2 (dynamic API)

## Decision Tree
Need to serve content?
â”œâ”€ Is content cacheable?
â”‚ â”œâ”€ Yes â†’ Use CloudFront
â”‚ â””â”€ No â†’ Use Global Accelerator
â”‚
â”œâ”€ Is protocol HTTP/HTTPS?
â”‚ â”œâ”€ Yes
â”‚ â”‚ â”œâ”€ Need static IPs? â†’ Global Accelerator
â”‚ â”‚ â””â”€ Want caching? â†’ CloudFront
â”‚ â”‚
â”‚ â””â”€ No (UDP, TCP, MQTT, etc.) â†’ Global Accelerator
â”‚
â””â”€ Need sub-30-second failover? â†’ Global Accelerator


---

# Summary: CloudFront & Global Accelerator

## CloudFront Key Takeaways

### Core Concepts:
1. **CDN** that caches content at 200+ edge locations
2. **Reduces latency** by serving content from nearest edge
3. **Reduces origin load** by caching at edges
4. **DDoS protection** via AWS Shield

### Origins:
- S3 bucket (with OAC for security)
- ALB/NLB (can be in VPC or public)
- EC2 instances (public)
- Custom HTTP servers

### Security:
- **Origin Access Control (OAC)** for S3
- **Geo Restriction** (allowlist/blocklist)
- **Signed URLs/Cookies** for premium content
- **AWS WAF** integration

### Cost Control:
- **Price Classes** (100, 200, All)
- Choose regions based on user distribution
- Lower cost in NA/Europe, higher in Asia

### Cache Management:
- **TTL** controls cache duration
- **Cache Invalidation** for immediate updates
- **Versioned URLs** better than invalidation
- First 1,000 invalidation paths free/month

## Global Accelerator Key Takeaways

### Core Concepts:
1. **Network accelerator** using Anycast IPs
2. **Routes traffic over AWS backbone** (not public internet)
3. **Static IPs** (2 Anycast IPs for the application)
4. **Fast failover** (<30 seconds)

### Use Cases:
- **Non-HTTP protocols** (UDP, TCP, MQTT)
- **Gaming applications**
- **IoT** device communication
- **VoIP** applications
- HTTP requiring **static IPs**
- Applications needing **deterministic failover**

### Features:
- **Intelligent routing** to lowest latency endpoint
- **Health checks** with automatic failover
- **DDoS protection** via AWS Shield
- **No caching** (all requests proxied)

### Endpoints:
- Elastic IP
- EC2 instances
- ALB (public or internal)
- NLB (public or internal)

## Quick Reference Comparison

| Need | CloudFront | Global Accelerator |
|------|-----------|-------------------|
| Cache static content | âœ… Yes | âŒ No |
| HTTP/HTTPS | âœ… Yes | âœ… Yes |
| TCP/UDP | âŒ No | âœ… Yes |
| Static IP | âŒ No | âœ… Yes (2 Anycast) |
| Fast failover (<30s) | âŒ No (DNS) | âœ… Yes |
| Reduce origin load | âœ… Yes (caching) | âŒ No (proxying) |
| Edge computing | âœ… Yes (Lambda@Edge) | âŒ No |
| Cost for static files | Lower (caching) | Higher (proxying) |
| Gaming/IoT | âŒ Not ideal | âœ… Perfect |
| Website/API | âœ… Perfect | âš ï¸ Use if no caching |

## Exam Tips

### CloudFront Questions Look For:
- Keywords: **"cache"**, **"static content"**, **"video streaming"**, **"CDN"**
- Scenarios: Website with images, video platform, software downloads
- Security: OAC for S3, geo restriction, signed URLs
- Cost: Price classes to reduce costs

### Global Accelerator Questions Look For:
- Keywords: **"static IP"**, **"UDP"**, **"gaming"**, **"failover"**, **"IoT"**
- Scenarios: Gaming apps, VoIP, financial trading, real-time applications
- Benefits: AWS backbone network, fast failover, consistent IPs
- When CloudFront is NOT suitable

### Common Exam Tricks:
âŒ "CloudFront can cache UDP traffic" - **FALSE** (use Global Accelerator)
âŒ "Global Accelerator caches content" - **FALSE** (it proxies)
âœ… "CloudFront uses edge locations" - **TRUE**
âœ… "Global Accelerator provides 2 static Anycast IPs" - **TRUE**
âœ… "Both provide DDoS protection" - **TRUE**

---

**ğŸ“ Note:** This comprehensive guide covers Amazon CloudFront and AWS Global Accelerator, essential services for the AWS Solutions Architect certification exam and real-world global application delivery.
